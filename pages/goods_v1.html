<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–æ–≤–∞—Ä—ã</title>
    <link rel="stylesheet" href="../style/styles.css">
</head>
<body>
<div class="page-container">
    <header class="header">
        <h1>–¢–æ–≤–∞—Ä—ã</h1>
    </header>

    <nav class="nav">
        <ul class="nav-list">
            <li class="nav-item"><a class="nav-link" href="../index_v1.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li class="nav-item"><a class="nav-link" href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a></li>
            <li class="nav-item"><a class="nav-link" href="practices.html">–ü—Ä–∞–∫—Ç–∏–∫–∏</a></li>
            <li class="nav-item"><a class="nav-link active" href="goods.html">–¢–æ–≤–∞—Ä—ã</a></li>
            <li class="nav-item"><a class="nav-link" href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
    </nav>

    <main class="content">
        <h2 class="section-title">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h2>

        <div class="products-section">
            <!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div class="products-grid">
                <!-- –¢–æ–≤–∞—Ä 1 —Å–æ —Å–∫–∏–¥–∫–æ–π -->
                <article class="product-card product-card--discount" data-id="1" data-price="1000" data-old-price="1500">
                    <img src="../images/goods1.jpg" alt="–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç" class="product-card__image">
                    <h3 class="product-card__name">–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç</h3>
                    <p class="product-card__description">–£–º–Ω—ã–π —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ AI-—Ñ—É–Ω–∫—Ü–∏—è–º–∏</p>
                    <div class="product-card__price-container">
                        <span class="product-card__old-price">1500 ‚ÇΩ</span>
                        <span class="product-card__price">1000 ‚ÇΩ</span>
                        <span class="product-card__discount">-33%</span>
                    </div>
                    <button class="product-card__button" onclick="addToCart(1)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                </article>

                <!-- –¢–æ–≤–∞—Ä 2 - —Ö–∏—Ç –ø—Ä–æ–¥–∞–∂ -->
                <article class="product-card product-card--hot" data-id="2" data-price="2000">
                    <img src="../images/goods2.jpg" alt="–°–∞–π—Ç" class="product-card__image">
                    <h3 class="product-card__name">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∞–π—Ç</h3>
                    <p class="product-card__description">–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º –∏ –ò–ò-—Ñ—É–Ω–∫—Ü–∏—è–º–∏</p>
                    <div class="product-card__price-container">
                        <span class="product-card__price">2000 ‚ÇΩ</span>
                    </div>
                    <button class="product-card__button" onclick="addToCart(2)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                </article>

                <!-- –¢–æ–≤–∞—Ä 3 -->
                <article class="product-card" data-id="3" data-price="3000">
                    <img src="../images/goods3.jpg" alt="–ö—É—Ä—Å Python" class="product-card__image">
                    <h3 class="product-card__name">–ö—É—Ä—Å Python Pro</h3>
                    <p class="product-card__description">–ü–æ–ª–Ω—ã–π –∫—É—Ä—Å –ø–æ Python —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</p>
                    <div class="product-card__price-container">
                        <span class="product-card__price">3000 ‚ÇΩ</span>
                    </div>
                    <button class="product-card__button" onclick="addToCart(3)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                </article>

                <!-- –¢–æ–≤–∞—Ä 4 —Å–æ —Å–∫–∏–¥–∫–æ–π -->
                <article class="product-card product-card--discount" data-id="4" data-price="2500" data-old-price="4000">
                    <img src="../images/goods1.jpg" alt="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç" class="product-card__image">
                    <h3 class="product-card__name">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç</h3>
                    <p class="product-card__description">–ë–æ—Ç —Å –º–∞—à–∏–Ω–Ω—ã–º –æ–±—É—á–µ–Ω–∏–µ–º –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è</p>
                    <div class="product-card__price-container">
                        <span class="product-card__old-price">4000 ‚ÇΩ</span>
                        <span class="product-card__price">2500 ‚ÇΩ</span>
                        <span class="product-card__discount">-38%</span>
                    </div>
                    <button class="product-card__button" onclick="addToCart(4)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                </article>
            </div>

            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã -->
            <aside class="cart-sidebar">
                <h3 class="cart-sidebar__title">üõí –ö–æ—Ä–∑–∏–Ω–∞</h3>
                <div class="cart-sidebar__items" id="cartItems">
                    <div class="cart-sidebar__empty" id="cartEmpty">
                        –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
                    </div>
                </div>
                <div class="cart-sidebar__total">
                    <div class="cart-sidebar__total-row">
                        <span>–¢–æ–≤–∞—Ä—ã:</span>
                        <span id="subtotal">0 ‚ÇΩ</span>
                    </div>
                    <div class="cart-sidebar__total-row">
                        <span>–°–∫–∏–¥–∫–∞:</span>
                        <span id="discount">0 ‚ÇΩ</span>
                    </div>
                    <div class="cart-sidebar__total-row cart-sidebar__total-final">
                        <span>–ò—Ç–æ–≥–æ:</span>
                        <span id="total">0 ‚ÇΩ</span>
                    </div>
                </div>
                <button class="cart-sidebar__checkout-button" id="checkoutButton" disabled onclick="checkout()">
                    –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
            </aside>
        </div>
    </main>

    <footer class="footer">
        <p>–§—É—Ç–µ—Ä</p>
    </footer>
</div>

<script>
    // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤
    const products = {
        1: { name: "–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç", price: 1000, oldPrice: 1500, image: "../images/goods1.jpg" },
        2: { name: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∞–π—Ç", price: 2000, oldPrice: null, image: "../images/goods2.jpg" },
        3: { name: "–ö—É—Ä—Å Python Pro", price: 3000, oldPrice: null, image: "../images/goods3.jpg" },
        4: { name: "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç", price: 2500, oldPrice: 4000, image: "../images/goods1.jpg" }
    };

    let cart = [];

    // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
    function addToCart(productId) {
        const product = products[productId];
        const existingItem = cart.find(item => item.id === productId);

        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({
                id: productId,
                name: product.name,
                price: product.price,
                oldPrice: product.oldPrice,
                image: product.image,
                quantity: 1
            });
        }

        updateCart();
        animateButton(productId);
    }

    // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã
    function updateCart() {
        const cartItems = document.getElementById('cartItems');
        const cartEmpty = document.getElementById('cartEmpty');
        const checkoutButton = document.getElementById('checkoutButton');

        cartItems.innerHTML = '';

        if (cart.length === 0) {
            cartEmpty.style.display = 'block';
            checkoutButton.disabled = true;
            return;
        }

        cartEmpty.style.display = 'none';

        let subtotal = 0;
        let totalDiscount = 0;

        cart.forEach(item => {
            const itemElement = document.createElement('div');
            itemElement.className = 'cart-sidebar__item';

            const itemSubtotal = item.price * item.quantity;
            const itemDiscount = item.oldPrice ? (item.oldPrice - item.price) * item.quantity : 0;

            subtotal += itemSubtotal;
            totalDiscount += itemDiscount;

            itemElement.innerHTML = `
                <img src="${item.image}" alt="${item.name}" class="cart-sidebar__item-image">
                <div class="cart-sidebar__item-info">
                    <div class="cart-sidebar__item-name">${item.name}</div>
                    <div class="cart-sidebar__item-price">${item.price} ‚ÇΩ √ó ${item.quantity}</div>
                </div>
                <div class="cart-sidebar__item-quantity">
                    <button class="cart-sidebar__quantity-btn" onclick="changeQuantity(${item.id}, -1)">-</button>
                    <span>${item.quantity}</span>
                    <button class="cart-sidebar__quantity-btn" onclick="changeQuantity(${item.id}, 1)">+</button>
                </div>
                <button class="cart-sidebar__item-remove" onclick="removeFromCart(${item.id})">√ó</button>
            `;

            cartItems.appendChild(itemElement);
        });

        document.getElementById('subtotal').textContent = subtotal + ' ‚ÇΩ';
        document.getElementById('discount').textContent = '-' + totalDiscount + ' ‚ÇΩ';
        document.getElementById('total').textContent = (subtotal - totalDiscount) + ' ‚ÇΩ';

        checkoutButton.disabled = false;
    }

    // –§—É–Ω–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
    function changeQuantity(productId, change) {
        const item = cart.find(item => item.id === productId);
        if (item) {
            item.quantity += change;
            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCart();
            }
        }
    }

    // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    function removeFromCart(productId) {
        cart = cart.filter(item => item.id !== productId);
        updateCart();
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
    function animateButton(productId) {
        const button = document.querySelector(`[onclick="addToCart(${productId})"]`);
        button.classList.add('product-card__button--animated');
        button.textContent = '‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ';

        setTimeout(() => {
            button.classList.remove('product-card__button--animated');
            button.textContent = '–í –∫–æ—Ä–∑–∏–Ω—É';
        }, 1000);
    }

    // –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
    function checkout() {
        if (cart.length === 0) return;

        const total = document.getElementById('total').textContent;
        alert(`–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!\n–°—É–º–º–∞: ${total}\n–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!`);

        cart = [];
        updateCart();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
        updateCart();
    });
</script>
</body>
</html>